<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport"
              content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- Bootstrap CSS -->
        <link rel="stylesheet"
              href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
              integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
              crossorigin="anonymous">
        <!-- <link rel="stylesheet" href="index.css"> -->
        <title>{{title}}</title>
    </head>
    <body>
        <!-- Create a navigation bar with the following buttons: Post, Authors, Logout, Profile, Inbox -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="/">Social Media Project</a>
            <button class="navbar-toggler"
                    type="button"
                    data-toggle="collapse"
                    data-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent"
                    aria-expanded="false"
                    aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        {% comment %} <a class="nav-link" href="">Post <span class="sr-only">(current)</span></a> {% endcomment %}



                        <button type="button"
                                id="postButton"
                                class="btn btn-primary"
                                onclick="openForm()">
                            Post
                        </button>

                        <div class="form-popup" id="postForm">
                            <form class="form-container">
                              <h1>Create Post</h1>
                          
                              <label for="title"><b>Title</b></label>
                              <input id="title" type="text" placeholder="Enter Title" name="title" required>
                              <!-- Create fields for title, description, categories, post type: markdown, images, plain/text, 
                              and common mark, Content text, checkbox for unlisted or not, and visibilty either public or private -->
                                <label for="description"><b>Description</b></label>
                                <input id="description" type="text" placeholder="Enter Description" name="description" required>

                                <label for="categories"><b>Categories</b></label>
                                <input type="text" placeholder="Enter Categories" name="categories" required>

                                
                                <label for="Content Type">Choose Content Type</label>
                                <select name="contentType" id="contentType" onchange="contentForm()">
                                  <option value="imageForm">Image</option>
                                  <option value="commonMarkForm">CommonMark</option>
                                </select>   
                                
                                <form action="/action_page.php" name="imageForm" id="imageForm" style="display:none">
                                    <label for="img">Select image:</label>
                                    <input type="file" id="img" name="img" accept="image/*">
                                    <input type="submit">
                                </form>
                                    
                                <form name="commonMarkForm" id="commonMarkForm" style="display:none">
                                    <p>This is your commonmark</p>
                                </form>

                                <label for="contentText"><b>Content Text</b></label>
                                <input id="content"type="text" placeholder="Enter Content Text" name="contentText" required>

                                <label for="unlisted"><b>Unlisted</b></label>
                                <input type="checkbox" placeholder="Enter Unlisted" name="unlisted" required>
                                    
                                <label for="visibility"><b>Visibility</b></label>
                                <input type="text" placeholder="Enter Visibility" name="visibility" required>

                                <button type="submit" class="btn" onclick ="submitPost(document.getElementById('postForm'))">Create Post</button>
                          
                              <label for="psw"><b>Password</b></label>
                              <input type="password" placeholder="Enter Password" name="psw" required>
                          
                              <button type="submit" class="btn">Login</button>
                              <button type="button" class="btn cancel" onclick="closeForm()">Close</button>
                            </form>
                          </div>



                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'profile' %}">Profile</a> <!-- Here we can put the logged in user's name instead of "Profile" -->
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Inbox</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'logout' %}">Logout</a>
                    </li>
                </ul>
            </div>
        </nav>
        <div id="content">
            {% block content %}{% endblock %}
        </div>
    </body>
    <script>
        function openForm() {
          document.getElementById("postForm").style.display = "block";
        }
        
        function closeForm() {
          document.getElementById("postForm").style.display = "none";
        }
        </script>

    <script>
        $("#contentType").on("change", function() {
            $("#" + $(this).val()).show().siblings().hide();
        })
        </script>
</html>



